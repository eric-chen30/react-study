<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>不使用函数柯里化实现</title>
  <!-- 引入React核心库 -->
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <!-- 引入React DOM库 -->
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <!-- babel引入，用于将jsx转为js -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
  class Login extends React.Component {

    state = {
      username: '',  // 用户名
      password: ''   // 密码
    }

    saveForm = (dataType, event) => {
      this.setState({
        [dataType]: event.target.value
      });
    }

    // event.preventDefault();阻止默认行为，如提交表单
    handleSubmit = (event) => {
      event.preventDefault();
      const { username, password } = this.state;
      alert(`用户名：${username}，密码：${password}`);
    }

    /** 必须拿函数作为触发事件的回调 **/
    render() {
      return (
        <form onSubmit={this.handleSubmit}>
          用户名：<input onChange={event =>  this.saveForm('username', event) } type="text" name="username" /><br />
          密码：<input onChange={event =>  this.saveForm('password', event) } type="password" name="password" /><br />
          <button type="submit">登录</button>
        </form>
      )
    }
  }

  ReactDOM.render(<Login />, document.getElementById('root'));
</script>
</body>
</html>
